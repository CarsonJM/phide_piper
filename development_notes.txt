Pipeline To Do:
- Change virus identification output format
- Change host output format
- Final test rule 09
- Final test rule 10
- Finalize rule 11
- Test DRAMv
- Add additional HMM databases to DRAMv
- Finalize rule 12
- pin genomad environment
- pin deepvirfinder environment
- pin checkv environment
- pin jupyter environment
- pin phist environment
- pin iPhoP environment
- containerize entire workflow

Benchmarking To Do:
Oral in silico mock community (virome & bulk)
- Re-make dereplicated mock community
- Benchmark virus enrichment (virome vs bulk)
- Benchmark virus assembly recovery and chimera (metaspades, metaviralspades, rnaviralspades, and combined)
- Benchmark clustering effect on recovery and chimera (db only, assembly only, assembly and db)
- Benchmark virus identification (Individual vs combined)
- Benchmark virus quality (HQ, MQ, all viruses)
- Benchmark virus abundance (breadth & depth)
- Benchmark virus host PHIST, iPHoP, and vOTU (HQ, MQ, all viruses)
- Benchmark virus taxonomy MMseqs2, HMM, vOTU, vcontact2  (HQ, MQ, all viruses)
- Analyze TIP samples with pipeline
- Analyze SA isolates with pipeline
- Analyze Rowher reads with pipeline Sequence data was deposited in the NCBI Short Read Archive (SRA) with accession numbers SRP007749, SRP009392, and SRP009438
- Analyze other Rohwer reads Project ID 39545

Resources:
- RNA virus database https://riboviria.org/user-guide (https://www.biorxiv.org/content/10.1101/2022.02.15.480533v2.full.pdf)
- IMG/VR4

Pipeline overview:
1. Read preprocessing
- Fastp (trimming, deduplication)
- KneadData (human read removal)
- MultiQC (preprocessing report)

2. Virus Enrichment
- ViromeQC (Estimate enrichment for viruses)

3. Read assembly
- SPAdes (metaSPAdes, metaviralSPAdes, or rnaviralSPAdes)
- Combine contigs (combine contigs from different assembly methods)
- BLAST (Dereplicate at 95% ANI & 85% AF)
- QUAST (Assembly metrics)

4. Virus identification
- MGV
- VirFinder (OPTIONAL)
- VirSorter (OPTIONAL)
- VirSorter2
- DeepVirFinder
- VIBRANT
- geNomad
- MASH screen (external virus db)

5. Virus quality
- CheckV (Trim viruses)
- CheckV (Quality Assessment)

6. Virus Dereplication
- BLAST (99% ANI 100% AF)

7. Virus Diversity
- BLAST (vOTU clusters at 95% ANI & 85% AF)
- vContact2 (genus clusters)

8. Virus host
- iPHoP
- PHIST

9. Virus taxonomy
- geNomad
- MMseqs2

10. Virus lifestyle
- BACPHLIP

11. Virus Function
- DRAM-v

12. Virus Analysis
- MetaPop
